# Connectivity Insights API User Story

| **Item** | **Details** |
| ---- | ------- |
| ***Summary*** | As an application developer i need to be able to configure what my application requires in terms of network perfomance metrics and be able to get visibility into actual network performance as experienced by my customers in comparison to the expected thresholds configured. In addtion i would also like to get notifications when the network is not able to meet the thresholds configured for indivial customers.  |
| ***Roles, Actors and Scope*** | **Roles:** Customer:User<br> **Actors:** Application service providers, hyperscalers, application developers. Currently the API does not explicitly handle consent management (expects that the customer either owns the device subscriptions or has agreed to manage consent as a part of general Terms and Conditions) and hence end users are not included as Actors. As this changes, the actor list will be extended with end users. <br> **Scope:** *Order To Activate (OTA)* \- Create/Update/Remove/Get service instance (Policy violations interms of network performance thresholds)\, get notification about the instance (Policy violations interms of network performance thresholds) |
| ***Pre-conditions*** |The preconditions are listed below:<br><ol><li>The Customer:BusinessManager and Customer:Administrator have been onboarded to the CSP's API platform.</li><li>The Customer:BusinessManager has successfully subscribed to the Connecitvity Insights product from the product catalog.</li><li>The Customer:Administrator has onboarded the Customer:User to the platform.</li><li>The Customer either owns the device subscriptions or has agreed to the terms and conditions of the CSP for managing consent of subscription owners.</li><li>The means to get the access token are known to the Customer:User to ensure secure access of the API.|
| ***Activities/Steps*** | **Starts when:** The customer application server makes a POST request to the connectivity insights API to create a new monitoring request or creates a subscription for receiving notifications.<br>**Ends when:** The customer application server makes a DELETE request to the connectivity insights API, or the monitoring session resource deletion was triggered automatically either because the customer specified duration has expired. |
| ***Post-conditions*** | The specified App-Flow is monitored based on the performance metrics as defined in the monitoring policy and notifications are sent when violations occur until the monitoring subscription is deleted or has expired.|
| ***Exceptions*** | Several exceptions might occur <br>- Unauthorized: Not valid credentials (e.g. use of already expired access token).<br>- Invalid input: Not valid input data to invoke operation (e.g. IP address format not as expected).<br>- Conflict: Internal configuration policies didnâ€™t allow for operations.<br>- Session-not-created: Due to other internal errors|